<html>
  <head>
    <title>Ejercicio 0.3 Webservice Almacenamiento Remoto (Server-Side)</title>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <script type="text/javascript" src="js/libs/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="js/models/product.js"></script>

    <!-- Nuestro codigo principal en JavaScript con jQuery -->
    <script type="text/javascript">
      $(document).ready(function () {
        var listProducts = [];
        getProducts();
        $("#btnAdd").click(function () {
          var product = new Product(
            $("#txtName").val(),
            $("#txtDetails").val(),
            $("#txtPrice").val()
          );

          if (!product.isValid()) {
            alert("Faltan datos.");
            return;
          }

          listProducts.push(product);

          $(".product-list").append(product.getHtml());
          sendProduct(product);

          clearData();
        });
        $("body").on("click", ".btnDelete", function () {
          $(this).parent().remove();
        });

        function sendProduct(product) {
          // Objeto en formato JSON el cual le enviaremos al webservice (PHP)
          var dataToSend = {
            //..
          };
          $.ajax({
            url: "https://miwebservices.000webhostapp.com/webservice/webservice.php",
            //..
          });
        }

        function getProducts() {
          var dataToSend = {
            //..
          };
          $.ajax({
            url: "https://miwebservices.000webhostapp.com/webservice/webservice.php",
            //..
          });
        }

        function clearData() {
          $("#txtName").val("");
          $("#txtDetails").val("");
          $("#txtPrice").val("");
        }
      });
    </script>
    <!-- Fin codigo principal -->
  </head>
  <body>
    <div class="product-list">
      <!--<div class="product">
			<p>Fresa</p>
			<p>Muy rica</p>
			<p>$125</p>
			<button class="btnDelete">Borrar</button>
		</div>-->
    </div>
    <div class="add-data">
      <input id="txtName" type="text" placeholder="Nombre" />
      <input id="txtDetails" type="text" placeholder="Detalles" />
      <input id="txtPrice" type="text" placeholder="Precio" />
      <button id="btnAdd">Agregar</button>
    </div>
  </body>
</html>
